{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"react\"), require(\"prop-types\")) : \"function\" == typeof define && define.amd ? define([\"react\", \"prop-types\"], t) : (e = e || self)[\"react-dice-roller\"] = t(e.React, e.PropTypes);\n}(this, function (o, e) {\n  \"use strict\";\n\n  function n(e, t) {\n    for (var r = 0; r < t.length; r++) {\n      var o = t[r];\n      o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n    }\n  }\n\n  function s(e) {\n    return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n      return e.__proto__ || Object.getPrototypeOf(e);\n    })(e);\n  }\n\n  function i(e, t) {\n    return (i = Object.setPrototypeOf || function (e, t) {\n      return e.__proto__ = t, e;\n    })(e, t);\n  }\n\n  function l(e, t) {\n    return !t || \"object\" != typeof t && \"function\" != typeof t ? function (e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    }(e) : t;\n  }\n\n  o = o && o.hasOwnProperty(\"default\") ? o.default : o, e = e && e.hasOwnProperty(\"default\") ? e.default : e;\n\n  var t = function (e) {\n    function r(e) {\n      var t;\n      return function (e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, r), (t = l(this, s(r).call(this, e))).state = {\n        value: null,\n        rolling: !1,\n        hovering: !1,\n        progress: 0\n      }, t;\n    }\n\n    return function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && i(e, t);\n    }(r, o.Component), function (e, t, r) {\n      t && n(e.prototype, t), r && n(e, r);\n    }(r, [{\n      key: \"componentWillUnmount\",\n      value: function () {\n        this.timer && clearTimeout(this.timer);\n      }\n    }, {\n      key: \"roll\",\n      value: function () {\n        this.setState({\n          value: Math.floor(Math.random() * this.props.sides + 1),\n          progress: Math.floor((Date.now() - this.start) / (1e3 * this.props.rollSeconds) * 100)\n        }), this.nextRoll();\n      }\n    }, {\n      key: \"nextRoll\",\n      value: function () {\n        var e = this;\n        this.timer = setTimeout(function () {\n          return e.roll();\n        }, this.interval);\n        var t = 1e3 * this.props.rollSeconds - (Date.now() - this.start);\n        if (t >= 1e3 * this.props.rollSeconds / (10 / 3) ? this.interval = 10 : this.interval *= 1.4, t <= 100) return clearTimeout(this.timer), void this.done();\n      }\n    }, {\n      key: \"throw\",\n      value: function () {\n        this.setState({\n          rolling: !0,\n          progress: 0\n        }), this.start = Date.now(), this.interval = 1, this.nextRoll();\n      }\n    }, {\n      key: \"done\",\n      value: function () {\n        this.setState({\n          rolling: !1,\n          progress: 100\n        });\n      }\n    }, {\n      key: \"getDefaultStyleDice\",\n      value: function () {\n        return this.props.diceClassName ? null : {\n          border: \"1px solid black\",\n          cursor: \"pointer\",\n          width: \"90px\",\n          height: \"90px\",\n          textAlign: \"center\",\n          fontSize: \"50px\",\n          fontWeight: \"bold\",\n          verticalAlign: \"middle\",\n          fontFamily: \"cursive\",\n          lineHeight: \"80px\"\n        };\n      }\n    }, {\n      key: \"getDefaultStyleOverlay\",\n      value: function () {\n        return this.props.overlayClassName ? null : {\n          width: \"90px\",\n          height: \"90px\",\n          position: \"absolute\",\n          fontSize: \"40px\",\n          backgroundColor: \"rgba(108, 122, 137, 0.8)\",\n          color: \"white\"\n        };\n      }\n    }, {\n      key: \"getOverlay\",\n      value: function () {\n        return this.state.rolling || !this.state.hovering && null != this.state.value ? null : o.createElement(\"div\", {\n          style: this.getDefaultStyleOverlay(),\n          className: this.props.overlayClassName\n        }, \"Roll\");\n      }\n    }, {\n      key: \"getProgressBar\",\n      value: function () {\n        if (!this.props.showProgress) return null;\n        var e = {\n          width: this.state.progress + \"%\"\n        };\n        return this.props.progressClassName || (e.height = \"3px\", e.backgroundColor = \"black\"), o.createElement(\"div\", {\n          style: e,\n          className: this.props.progressClassName\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function () {\n        var e = this,\n            t = this.state.value;\n        return null === t && (t = \"Roll\"), o.createElement(\"div\", {\n          onClick: function () {\n            return e.throw();\n          },\n          style: this.getDefaultStyleDice(),\n          className: this.props.diceClassName,\n          onMouseMove: function () {\n            e.setState({\n              hovering: !0\n            });\n          },\n          onMouseLeave: function () {\n            e.setState({\n              hovering: !1\n            });\n          }\n        }, this.getProgressBar(), this.getOverlay(), this.state.value, o.createElement(\"div\", null));\n      }\n    }]), r;\n  }();\n\n  return t.defaultProps = {\n    sides: 6,\n    rollSeconds: 2,\n    showProgress: !1\n  }, t.propTypes = {\n    sides: e.number,\n    rollSeconds: e.number,\n    showProgress: e.bool,\n    diceClassName: e.string,\n    overlayClassName: e.string,\n    progressClassName: e.string\n  }, t;\n});","map":null,"metadata":{},"sourceType":"script"}