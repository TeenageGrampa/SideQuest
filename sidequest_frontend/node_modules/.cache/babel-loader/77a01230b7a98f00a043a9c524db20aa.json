{"ast":null,"code":"var _jsxFileName = \"/Users/dan/Desktop/SideQuest/sidequest_frontend/sidequest/src/NewRace.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ClassInfo from './ClassInfo';\n\nclass NewCharacter extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allRaces: [] // currentClass: ''\n\n    };\n\n    this.saveClass = charClass => {\n      this.props.AddClass(charClass);\n      console.log(this.props);\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/profile', {\n      headers: {\n        'Authorization': \"Bearer \".concat(localStorage.token)\n      }\n    }).then(res => res.json()).then(user => this.props.LogIn(user));\n    fetch('https://api-beta.open5e.com/races/').then(r => r.json()).then(data => this.setState({\n      allRaces: data.results\n    }));\n  } // handleChange = (e) =>{\n  //     const newClass = e.target.value\n  //     this.setState({\n  //         currentClass: newClass\n  //     })\n  // }\n\n\n  render() {\n    console.log(this.props);\n    console.log(this.state);\n    const raceComps = this.state.allRaces.map(charRace => React.createElement(RaceInfo, {\n      key: charRace.id,\n      saveClass: this.saveClass,\n      charRace: charRace,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    });\n  }\n\n}\n\nconst mapStateToProps = store => {\n  return {\n    currentUser: store.currentUser,\n    newChar: store.newChar\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    LogIn: loggedInUser => {\n      dispatch({\n        type: 'LOGIN_CURRENT_USER',\n        user: loggedInUser\n      });\n    },\n    AddClass: charClass => {\n      dispatch({\n        type: 'ADD_CLASS',\n        attribute: charClass\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewCharacter);","map":{"version":3,"sources":["/Users/dan/Desktop/SideQuest/sidequest_frontend/sidequest/src/NewRace.js"],"names":["React","connect","ClassInfo","NewCharacter","Component","state","allRaces","saveClass","charClass","props","AddClass","console","log","componentDidMount","fetch","headers","localStorage","token","then","res","json","user","LogIn","r","data","setState","results","render","raceComps","map","charRace","id","mapStateToProps","store","currentUser","newChar","mapDispatchToProps","dispatch","loggedInUser","type","attribute"],"mappings":";AAAA,OAAOA,KAAP,MAAmB,OAAnB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAGA,MAAMC,YAAN,SAA2BH,KAAK,CAACI,SAAjC,CAA0C;AAAA;AAAA;AAAA,SACtCC,KADsC,GAC9B;AACJC,MAAAA,QAAQ,EAAE,EADN,CAEJ;;AAFI,KAD8B;;AAAA,SA6BtCC,SA7BsC,GA6BzBC,SAAD,IAAe;AACvB,WAAKC,KAAL,CAAWC,QAAX,CAAoBF,SAApB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAjB;AACH,KAhCqC;AAAA;;AAMtCI,EAAAA,iBAAiB,GAAE;AACfC,IAAAA,KAAK,CAAC,+BAAD,EAAiC;AACtCC,MAAAA,OAAO,EAAE;AACP,0CAA2BC,YAAY,CAACC,KAAxC;AADO;AAD6B,KAAjC,CAAL,CAKCC,IALD,CAKMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EALb,EAMCF,IAND,CAMMG,IAAI,IAAI,KAAKZ,KAAL,CAAWa,KAAX,CAAiBD,IAAjB,CANd;AAQAP,IAAAA,KAAK,CAAC,oCAAD,CAAL,CACCI,IADD,CACMK,CAAC,IAAIA,CAAC,CAACH,IAAF,EADX,EAECF,IAFD,CAEMM,IAAI,IAAI,KAAKC,QAAL,CAAc;AACxBnB,MAAAA,QAAQ,EAAEkB,IAAI,CAACE;AADS,KAAd,CAFd;AAKH,GApBqC,CAsBtC;AACA;AACA;AACA;AACA;AACA;;;AASAC,EAAAA,MAAM,GAAE;AACJhB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAjB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;AACA,UAAMuB,SAAS,GAAG,KAAKvB,KAAL,CAAWC,QAAX,CAAoBuB,GAApB,CAAwBC,QAAQ,IAAI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,QAAQ,CAACC,EAAxB;AAA4B,MAAA,SAAS,EAAE,KAAKxB,SAA5C;AAAuD,MAAA,QAAQ,EAAEuB,QAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAApC,CAAlB;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAgCH;;AAxEqC;;AA2E1C,MAAME,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACLC,IAAAA,WAAW,EAAED,KAAK,CAACC,WADd;AAELC,IAAAA,OAAO,EAAEF,KAAK,CAACE;AAFV,GAAP;AAIH,CALD;;AAOA,MAAMC,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACLf,IAAAA,KAAK,EAAGgB,YAAD,IAAkB;AACvBD,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAE,oBAAR;AAA8BlB,QAAAA,IAAI,EAAEiB;AAApC,OAAD,CAAR;AACD,KAHI;AAIL5B,IAAAA,QAAQ,EAAGF,SAAD,IAAe;AACrB6B,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAE,WAAR;AAAqBC,QAAAA,SAAS,EAAEhC;AAAhC,OAAD,CAAR;AACH;AANI,GAAP;AAQH,CATD;;AAWA,eAAeP,OAAO,CAAC+B,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CjC,YAA7C,CAAf","sourcesContent":["import React from  'react'\nimport { connect } from 'react-redux'\nimport ClassInfo from './ClassInfo'\n\n\nclass NewCharacter extends React.Component{\n    state = {\n        allRaces: [],\n        // currentClass: ''\n    }\n\n    componentDidMount(){\n        fetch('http://localhost:3000/profile',{\n        headers: {\n          'Authorization': `Bearer ${localStorage.token}`\n        }\n        })\n        .then(res => res.json())\n        .then(user => this.props.LogIn(user)\n        )\n        fetch('https://api-beta.open5e.com/races/')\n        .then(r => r.json())\n        .then(data => this.setState({\n            allRaces: data.results\n        }))\n    }\n\n    // handleChange = (e) =>{\n    //     const newClass = e.target.value\n    //     this.setState({\n    //         currentClass: newClass\n    //     })\n    // }\n\n    saveClass = (charClass) => {\n        this.props.AddClass(charClass)\n        console.log(this.props)\n    }\n\n\n\n    render(){\n        console.log(this.props)\n        console.log(this.state)\n        const raceComps = this.state.allRaces.map(charRace => <RaceInfo key={charRace.id} saveClass={this.saveClass} charRace={charRace} /> )\n        return(\n            <div>\n                {/* <h1>Choose Your Class:</h1>\n                <h2>Currently Selected: {this.props.newChar.newCharClass ? this.props.newChar.newCharClass.name : null}</h2>\n                <select onChange={this.handleChange}>\n                    <option value=\"barbarian\">Barbarian</option>\n                    <option value=\"bard\">Bard</option>\n                    <option value=\"cleric\">Cleric</option>\n                    <option value=\"druid\">Druid</option>\n                    <option value=\"fighter\">Fighter</option>\n                    <option value=\"monk\">Monk</option>\n                    <option value=\"paladin\">Paladin</option>\n                    <option value=\"ranger\">Ranger</option>\n                    <option value=\"rogue\">Rogue</option>\n                    <option value=\"sorcerer\">Sorcerer</option>\n                    <option value=\"warlock\">Warlock</option>\n                    <option value=\"wizard\">Wizard</option>\n                </select>\n                {this.state.currentClass === 'barbarian' ? classComps[0] : null}\n                {this.state.currentClass === 'bard' ? classComps[1] : null}\n                {this.state.currentClass === 'cleric' ? classComps[2] : null}\n                {this.state.currentClass === 'druid' ? classComps[3] : null}\n                {this.state.currentClass === 'fighter' ? classComps[4] : null}\n                {this.state.currentClass === 'monk' ? classComps[5] : null}\n                {this.state.currentClass === 'paladin' ? classComps[6] : null}\n                {this.state.currentClass === 'ranger' ? classComps[7] : null}\n                {this.state.currentClass === 'rogue' ? classComps[8] : null}\n                {this.state.currentClass === 'sorcerer' ? classComps[9] : null}\n                {this.state.currentClass === 'warlock' ? classComps[10] : null}\n                {this.state.currentClass === 'wizard' ? classComps[11] : null} */}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (store) => {\n    return {\n      currentUser: store.currentUser,\n      newChar: store.newChar\n    }\n}\n  \nconst mapDispatchToProps = (dispatch) => {\n    return {\n      LogIn: (loggedInUser) => {\n        dispatch({ type: 'LOGIN_CURRENT_USER', user: loggedInUser })\n      },\n      AddClass: (charClass) => {\n          dispatch({ type: 'ADD_CLASS', attribute: charClass })\n      }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewCharacter);"]},"metadata":{},"sourceType":"module"}