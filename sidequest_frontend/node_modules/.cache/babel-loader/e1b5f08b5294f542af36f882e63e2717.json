{"ast":null,"code":"var _jsxFileName = \"/Users/dan/Desktop/SideQuest/sidequest_frontend/src/NewClass.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ClassInfo from './ClassInfo';\n\nclass NewClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allClasses: [],\n      currentClass: 'barbarian',\n      characterName: '',\n      characterAlignment: 'True Neutral'\n    };\n\n    this.handleChange = e => {\n      const newClass = e.target.value;\n      this.setState({\n        currentClass: newClass\n      });\n    };\n\n    this.saveClass = charClass => {\n      this.props.AddClass(charClass);\n      fetch('http://localhost:3000/characters', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          name: this.state.characterName,\n          level: 1,\n          alignment: this.state.characterAlignment,\n          user_id: this.props.currentUser.id\n        })\n      }).then(r => r.json()).then(character => this.setState({\n        character_id: character.id\n      }, () => {\n        fetch('http://localhost:3000/character_classes', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            character_id: this.state.character_id,\n            name: this.props.charClass.name,\n            desc: this.props.charClass.desc,\n            hit_dice: this.props.charClass.hit_dice,\n            armor_prof: this.props.charClass.armor_prof,\n            prof_weapons: this.props.charClass.prof_weapons,\n            prof_tools: this.props.charClass.prof_tools,\n            prof_saving_throws: this.props.charClass.prof_saving_throws,\n            prof_skills: this.props.charClass.prof_skills,\n            equipment: this.props.charClass.equipment,\n            spellcast_ability: this.props.charClass.spellcasting_ability\n          })\n        }).then(r => r.json()).then(this.props.AddCharID(this.state.character_id));\n      }));\n    };\n\n    this.handleNext = () => {\n      this.props.history.push('NewRace');\n    };\n\n    this.nameChange = e => {\n      this.setState({\n        characterName: e.target.value\n      });\n    };\n\n    this.alignmentChoice = e => {\n      this.setState({\n        characterAlignment: e.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/profile', {\n      headers: {\n        'Authorization': \"Bearer \".concat(localStorage.token)\n      }\n    }).then(res => res.json()).then(user => this.props.LogIn(user));\n    fetch('https://api-beta.open5e.com/classes/').then(r => r.json()).then(data => this.setState({\n      allClasses: data.results\n    }));\n  }\n\n  render() {\n    console.log(this.props);\n    const classComps = this.state.allClasses.map(charClass => React.createElement(ClassInfo, {\n      key: charClass.id,\n      saveClass: this.saveClass,\n      charClass: charClass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box\",\n      style: {\n        width: 180\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"name\",\n      value: this.state.characterName,\n      onChange: this.nameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Alignment:\"), React.createElement(\"select\", {\n      onChange: this.alignmentChoice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"True Neutral\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"True Neutral\"), React.createElement(\"option\", {\n      value: \"Chaotic Neutral\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Chaotic Neutral\"), React.createElement(\"option\", {\n      value: \"Lawful Neutral\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Lawful Neutral\"), React.createElement(\"option\", {\n      value: \"True Evil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"True Evil\"), React.createElement(\"option\", {\n      value: \"True Good\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"True Good\"), React.createElement(\"option\", {\n      value: \"Lawful Good\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Lawful Good\"), React.createElement(\"option\", {\n      value: \"Lawful Evil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Lawful Evil\"), React.createElement(\"option\", {\n      value: \"Chaotic Good\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Chaotic Good\"), React.createElement(\"option\", {\n      value: \"Chaotic Evil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Chaotic Evil\")))), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Choose Your Class:\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Currently Selected: \", this.props.newCharClass ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.props.newCharClass.name, \" \", React.createElement(\"button\", {\n      onClick: this.handleNext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Confirm\")) : null), React.createElement(\"select\", {\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"barbarian\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Barbarian\"), React.createElement(\"option\", {\n      value: \"bard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Bard\"), React.createElement(\"option\", {\n      value: \"cleric\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Cleric\"), React.createElement(\"option\", {\n      value: \"druid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Druid\"), React.createElement(\"option\", {\n      value: \"fighter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Fighter\"), React.createElement(\"option\", {\n      value: \"monk\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Monk\"), React.createElement(\"option\", {\n      value: \"paladin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Paladin\"), React.createElement(\"option\", {\n      value: \"ranger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Ranger\"), React.createElement(\"option\", {\n      value: \"rogue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Rogue\"), React.createElement(\"option\", {\n      value: \"sorcerer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Sorcerer\"), React.createElement(\"option\", {\n      value: \"warlock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Warlock\"), React.createElement(\"option\", {\n      value: \"wizard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Wizard\")), this.state.currentClass === 'barbarian' ? classComps[0] : null, this.state.currentClass === 'bard' ? classComps[1] : null, this.state.currentClass === 'cleric' ? classComps[2] : null, this.state.currentClass === 'druid' ? classComps[3] : null, this.state.currentClass === 'fighter' ? classComps[4] : null, this.state.currentClass === 'monk' ? classComps[5] : null, this.state.currentClass === 'paladin' ? classComps[6] : null, this.state.currentClass === 'ranger' ? classComps[7] : null, this.state.currentClass === 'rogue' ? classComps[8] : null, this.state.currentClass === 'sorcerer' ? classComps[9] : null, this.state.currentClass === 'warlock' ? classComps[10] : null, this.state.currentClass === 'wizard' ? classComps[11] : null);\n  }\n\n}\n\nconst mapStateToProps = store => {\n  return {\n    currentUser: store.currentUser,\n    newCharClass: store.newCharClass,\n    character_id: store.character_id\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    LogIn: loggedInUser => {\n      dispatch({\n        type: 'LOGIN_CURRENT_USER',\n        user: loggedInUser\n      });\n    },\n    AddClass: charClass => {\n      dispatch({\n        type: 'ADD_CLASS',\n        attribute: charClass\n      });\n    },\n    AddCharID: character_id => {\n      dispatch({\n        type: 'ADD_CHARACTER_ID',\n        character_id: character_id\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewClass);","map":{"version":3,"sources":["/Users/dan/Desktop/SideQuest/sidequest_frontend/src/NewClass.js"],"names":["React","connect","ClassInfo","NewClass","Component","state","allClasses","currentClass","characterName","characterAlignment","handleChange","e","newClass","target","value","setState","saveClass","charClass","props","AddClass","fetch","method","headers","body","JSON","stringify","name","level","alignment","user_id","currentUser","id","then","r","json","character","character_id","desc","hit_dice","armor_prof","prof_weapons","prof_tools","prof_saving_throws","prof_skills","equipment","spellcast_ability","spellcasting_ability","AddCharID","handleNext","history","push","nameChange","alignmentChoice","componentDidMount","localStorage","token","res","user","LogIn","data","results","render","console","log","classComps","map","width","newCharClass","mapStateToProps","store","mapDispatchToProps","dispatch","loggedInUser","type","attribute"],"mappings":"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","sourcesContent":["import React from  'react'\nimport { connect } from 'react-redux'\nimport ClassInfo from './ClassInfo'\n\n\nclass NewClass extends React.Component{\n    state = {\n        allClasses: [],\n        currentClass: 'barbarian',\n        characterName: '',\n        characterAlignment: 'True Neutral'\n    }\n\n    componentDidMount(){\n        fetch('http://localhost:3000/profile',{\n        headers: {\n          'Authorization': `Bearer ${localStorage.token}`\n        }\n        })\n        .then(res => res.json())\n        .then(user => this.props.LogIn(user)\n        )\n        fetch('https://api-beta.open5e.com/classes/')\n        .then(r => r.json())\n        .then(data => this.setState({\n            allClasses: data.results\n        }))\n    }\n\n    handleChange = (e) =>{\n        const newClass = e.target.value\n        this.setState({\n            currentClass: newClass\n        })\n    }\n\n    saveClass = (charClass) => {\n        this.props.AddClass(charClass)\n        fetch('http://localhost:3000/characters', {\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                name: this.state.characterName,\n                level: 1,\n                alignment: this.state.characterAlignment,\n                user_id: this.props.currentUser.id\n            })\n        }).then(r => r.json()).then(character => this.setState({\n            character_id: character.id\n        },() => {fetch('http://localhost:3000/character_classes', {\n                method: 'POST',\n                headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n                },\n                body: JSON.stringify({\n                    character_id: this.state.character_id,\n                    name: this.props.charClass.name,\n                    desc: this.props.charClass.desc,\n                    hit_dice: this.props.charClass.hit_dice, \n                    armor_prof: this.props.charClass.armor_prof,\n                    prof_weapons: this.props.charClass.prof_weapons,\n                    prof_tools: this.props.charClass.prof_tools,\n                    prof_saving_throws: this.props.charClass.prof_saving_throws,\n                    prof_skills: this.props.charClass.prof_skills,\n                    equipment: this.props.charClass.equipment,\n                    spellcast_ability: this.props.charClass.spellcasting_ability\n                })\n            }).then(r => r.json()).then(this.props.AddCharID(this.state.character_id))}))\n    }\n\n    handleNext = () => {\n        this.props.history.push('NewRace')\n    }\n\n    nameChange = (e) =>{\n        this.setState({\n            characterName: e.target.value\n        })\n    }\n    alignmentChoice = (e) => {\n        this.setState({\n            characterAlignment: e.target.value\n        })\n    }\n\n\n\n    render(){\n        console.log(this.props)\n        const classComps = this.state.allClasses.map(charClass => <ClassInfo key={charClass.id} saveClass={this.saveClass} charClass={charClass} /> )\n        return(\n            <div>\n                <div className=\"box\" style={{width: 180}}>\n                        <form>\n                            <label>Name:</label>\n                            <input type='text' placeholder=\"name\" value={this.state.characterName} onChange={this.nameChange}/>\n                            <label>Alignment:</label>\n                            <select onChange={this.alignmentChoice}>\n                                <option value=\"True Neutral\">True Neutral</option>\n                                <option value=\"Chaotic Neutral\">Chaotic Neutral</option>\n                                <option value=\"Lawful Neutral\">Lawful Neutral</option>\n                                <option value=\"True Evil\">True Evil</option>\n                                <option value=\"True Good\">True Good</option>\n                                <option value=\"Lawful Good\">Lawful Good</option>\n                                <option value=\"Lawful Evil\">Lawful Evil</option>\n                                <option value=\"Chaotic Good\">Chaotic Good</option>\n                                <option value=\"Chaotic Evil\">Chaotic Evil</option>\n                            </select>\n                        </form>\n                </div>\n                <h1>Choose Your Class:</h1>\n                <h2>Currently Selected: {this.props.newCharClass ? <div>{this.props.newCharClass.name} <button onClick={this.handleNext}>Confirm</button></div> : null}</h2>\n                <select onChange={this.handleChange}>\n                    <option value=\"barbarian\">Barbarian</option>\n                    <option value=\"bard\">Bard</option>\n                    <option value=\"cleric\">Cleric</option>\n                    <option value=\"druid\">Druid</option>\n                    <option value=\"fighter\">Fighter</option>\n                    <option value=\"monk\">Monk</option>\n                    <option value=\"paladin\">Paladin</option>\n                    <option value=\"ranger\">Ranger</option>\n                    <option value=\"rogue\">Rogue</option>\n                    <option value=\"sorcerer\">Sorcerer</option>\n                    <option value=\"warlock\">Warlock</option>\n                    <option value=\"wizard\">Wizard</option>\n                </select>\n                {this.state.currentClass === 'barbarian' ? classComps[0] : null}\n                {this.state.currentClass === 'bard' ? classComps[1] : null}\n                {this.state.currentClass === 'cleric' ? classComps[2] : null}\n                {this.state.currentClass === 'druid' ? classComps[3] : null}\n                {this.state.currentClass === 'fighter' ? classComps[4] : null}\n                {this.state.currentClass === 'monk' ? classComps[5] : null}\n                {this.state.currentClass === 'paladin' ? classComps[6] : null}\n                {this.state.currentClass === 'ranger' ? classComps[7] : null}\n                {this.state.currentClass === 'rogue' ? classComps[8] : null}\n                {this.state.currentClass === 'sorcerer' ? classComps[9] : null}\n                {this.state.currentClass === 'warlock' ? classComps[10] : null}\n                {this.state.currentClass === 'wizard' ? classComps[11] : null}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (store) => {\n    return {\n      currentUser: store.currentUser,\n      newCharClass: store.newCharClass,\n      character_id: store.character_id\n    }\n}\n  \nconst mapDispatchToProps = (dispatch) => {\n    return {\n      LogIn: (loggedInUser) => {\n        dispatch({ type: 'LOGIN_CURRENT_USER', user: loggedInUser })\n      },\n      AddClass: (charClass) => {\n          dispatch({ type: 'ADD_CLASS', attribute: charClass })\n      },\n      AddCharID: (character_id) => {\n          dispatch({ type: 'ADD_CHARACTER_ID', character_id: character_id})\n      }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewClass);"]},"metadata":{},"sourceType":"module"}