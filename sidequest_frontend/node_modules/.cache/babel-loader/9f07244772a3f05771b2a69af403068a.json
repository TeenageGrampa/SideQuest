{"ast":null,"code":"var _jsxFileName = \"/Users/dan/Desktop/SideQuest/sidequest_frontend/src/NewClass.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ClassInfo from './ClassInfo';\n\nclass NewClass extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allClasses: [],\n      currentClass: 'barbarian',\n      characterName: '',\n      characterAlignment: 'True Neutral'\n    };\n\n    this.handleChange = e => {\n      const newClass = e.target.value;\n      this.setState({\n        currentClass: newClass\n      });\n    };\n\n    this.saveClass = charClass => {\n      this.props.AddClass(charClass);\n    };\n\n    this.handleNext = () => {\n      fetch('http://localhost:3000/characters', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          name: this.state.characterName,\n          level: 1,\n          alignment: this.state.characterAlignment,\n          user_id: this.props.currentUser.id\n        })\n      }).then(r => r.json()).then(character => this.setState({\n        character_id: character.id\n      }, () => {\n        fetch('http://localhost:3000/character_classes', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            character_id: this.state.character_id,\n            name: this.props.newCharClass.name,\n            desc: this.props.newCharClass.desc,\n            hit_dice: this.props.newCharClass.hit_dice,\n            armor_prof: this.props.newCharClass.armor_prof,\n            prof_weapons: this.props.newCharClass.prof_weapons,\n            prof_tools: this.props.newCharClass.prof_tools,\n            prof_saving_throws: this.props.newCharClass.prof_saving_throws,\n            prof_skills: this.props.newCharClass.prof_skills,\n            equipment: this.props.newCharClass.equipment,\n            spellcast_ability: this.props.newCharClass.spellcasting_ability\n          })\n        }).then(r => r.json()).then(this.props.AddCharID(this.state.character_id)).then(this.props.history.push('/NewRace'));\n      }));\n    };\n\n    this.nameChange = e => {\n      this.setState({\n        characterName: e.target.value\n      });\n    };\n\n    this.alignmentChoice = e => {\n      this.setState({\n        characterAlignment: e.target.value\n      });\n    };\n\n    this.handleLogout = () => {\n      localStorage.clear();\n      this.props.history.push('/');\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/profile', {\n      headers: {\n        'Authorization': \"Bearer \".concat(localStorage.token)\n      }\n    }).then(res => res.json()).then(user => this.props.LogIn(user));\n    fetch('https://api-beta.open5e.com/classes/').then(r => r.json()).then(data => this.setState({\n      allClasses: data.results\n    }));\n  }\n\n  render() {\n    console.log(this.props);\n    const classComps = this.state.allClasses.map(charClass => React.createElement(ClassInfo, {\n      key: charClass.id,\n      saveClass: this.saveClass,\n      charClass: charClass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box\",\n      style: {\n        width: 180\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"name\",\n      value: this.state.characterName,\n      onChange: this.nameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Alignment:\"), React.createElement(\"select\", {\n      onChange: this.alignmentChoice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"True Neutral\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"True Neutral\"), React.createElement(\"option\", {\n      value: \"Chaotic Neutral\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Chaotic Neutral\"), React.createElement(\"option\", {\n      value: \"Lawful Neutral\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Lawful Neutral\"), React.createElement(\"option\", {\n      value: \"True Evil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"True Evil\"), React.createElement(\"option\", {\n      value: \"True Good\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"True Good\"), React.createElement(\"option\", {\n      value: \"Lawful Good\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Lawful Good\"), React.createElement(\"option\", {\n      value: \"Lawful Evil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Lawful Evil\"), React.createElement(\"option\", {\n      value: \"Chaotic Good\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Chaotic Good\"), React.createElement(\"option\", {\n      value: \"Chaotic Evil\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Chaotic Evil\")))), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Choose Your Class:\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Currently Selected: \", this.props.newCharClass ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, this.props.newCharClass.name, \" \", React.createElement(\"button\", {\n      onClick: this.handleNext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Confirm\")) : null), React.createElement(\"select\", {\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"barbarian\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Barbarian\"), React.createElement(\"option\", {\n      value: \"bard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Bard\"), React.createElement(\"option\", {\n      value: \"cleric\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Cleric\"), React.createElement(\"option\", {\n      value: \"druid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Druid\"), React.createElement(\"option\", {\n      value: \"fighter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Fighter\"), React.createElement(\"option\", {\n      value: \"monk\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Monk\"), React.createElement(\"option\", {\n      value: \"paladin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Paladin\"), React.createElement(\"option\", {\n      value: \"ranger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Ranger\"), React.createElement(\"option\", {\n      value: \"rogue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Rogue\"), React.createElement(\"option\", {\n      value: \"sorcerer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Sorcerer\"), React.createElement(\"option\", {\n      value: \"warlock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Warlock\"), React.createElement(\"option\", {\n      value: \"wizard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Wizard\")), this.state.currentClass === 'barbarian' ? classComps[0] : null, this.state.currentClass === 'bard' ? classComps[1] : null, this.state.currentClass === 'cleric' ? classComps[2] : null, this.state.currentClass === 'druid' ? classComps[3] : null, this.state.currentClass === 'fighter' ? classComps[4] : null, this.state.currentClass === 'monk' ? classComps[5] : null, this.state.currentClass === 'paladin' ? classComps[6] : null, this.state.currentClass === 'ranger' ? classComps[7] : null, this.state.currentClass === 'rogue' ? classComps[8] : null, this.state.currentClass === 'sorcerer' ? classComps[9] : null, this.state.currentClass === 'warlock' ? classComps[10] : null, this.state.currentClass === 'wizard' ? classComps[11] : null);\n  }\n\n}\n\nconst mapStateToProps = store => {\n  return {\n    currentUser: store.currentUser,\n    newCharClass: store.newCharClass,\n    character_id: store.character_id\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    LogIn: loggedInUser => {\n      dispatch({\n        type: 'LOGIN_CURRENT_USER',\n        user: loggedInUser\n      });\n    },\n    AddClass: charClass => {\n      dispatch({\n        type: 'ADD_CLASS',\n        attribute: charClass\n      });\n    },\n    AddCharID: character_id => {\n      dispatch({\n        type: 'ADD_CHARACTER_ID',\n        character_id: character_id\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewClass);","map":{"version":3,"sources":["/Users/dan/Desktop/SideQuest/sidequest_frontend/src/NewClass.js"],"names":["React","connect","ClassInfo","NewClass","Component","state","allClasses","currentClass","characterName","characterAlignment","handleChange","e","newClass","target","value","setState","saveClass","charClass","props","AddClass","handleNext","fetch","method","headers","body","JSON","stringify","name","level","alignment","user_id","currentUser","id","then","r","json","character","character_id","newCharClass","desc","hit_dice","armor_prof","prof_weapons","prof_tools","prof_saving_throws","prof_skills","equipment","spellcast_ability","spellcasting_ability","AddCharID","history","push","nameChange","alignmentChoice","handleLogout","localStorage","clear","componentDidMount","token","res","user","LogIn","data","results","render","console","log","classComps","map","width","mapStateToProps","store","mapDispatchToProps","dispatch","loggedInUser","type","attribute"],"mappings":"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","sourcesContent":["import React from  'react'\nimport { connect } from 'react-redux'\nimport ClassInfo from './ClassInfo'\n\n\nclass NewClass extends React.Component{\n    state = {\n        allClasses: [],\n        currentClass: 'barbarian',\n        characterName: '',\n        characterAlignment: 'True Neutral'\n    }\n\n    componentDidMount(){\n        fetch('http://localhost:3000/profile',{\n        headers: {\n          'Authorization': `Bearer ${localStorage.token}`\n        }\n        })\n        .then(res => res.json())\n        .then(user => this.props.LogIn(user)\n        )\n        fetch('https://api-beta.open5e.com/classes/')\n        .then(r => r.json())\n        .then(data => this.setState({\n            allClasses: data.results\n        }))\n    }\n\n    handleChange = (e) =>{\n        const newClass = e.target.value\n        this.setState({\n            currentClass: newClass\n        })\n    }\n\n    saveClass = (charClass) => {\n        this.props.AddClass(charClass)\n        \n    }\n\n    handleNext = () => {\n        fetch('http://localhost:3000/characters', {\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                name: this.state.characterName,\n                level: 1,\n                alignment: this.state.characterAlignment,\n                user_id: this.props.currentUser.id\n            })\n        }).then(r => r.json()).then(character => this.setState({\n            character_id: character.id\n        },() => {fetch('http://localhost:3000/character_classes', {\n                method: 'POST',\n                headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n                },\n                body: JSON.stringify({\n                    character_id: this.state.character_id,\n                    name: this.props.newCharClass.name,\n                    desc: this.props.newCharClass.desc,\n                    hit_dice: this.props.newCharClass.hit_dice, \n                    armor_prof: this.props.newCharClass.armor_prof,\n                    prof_weapons: this.props.newCharClass.prof_weapons,\n                    prof_tools: this.props.newCharClass.prof_tools,\n                    prof_saving_throws: this.props.newCharClass.prof_saving_throws,\n                    prof_skills: this.props.newCharClass.prof_skills,\n                    equipment: this.props.newCharClass.equipment,\n                    spellcast_ability: this.props.newCharClass.spellcasting_ability\n                })\n            }).then(r => r.json()).then(this.props.AddCharID(this.state.character_id)).then(this.props.history.push('/NewRace'))}))\n    }\n\n    nameChange = (e) =>{\n        this.setState({\n            characterName: e.target.value\n        })\n    }\n    alignmentChoice = (e) => {\n        this.setState({\n            characterAlignment: e.target.value\n        })\n    }\n\n    handleLogout = () => {\n        localStorage.clear()\n        this.props.history.push('/')\n    }\n\n\n\n    render(){\n        console.log(this.props)\n        const classComps = this.state.allClasses.map(charClass => <ClassInfo key={charClass.id} saveClass={this.saveClass} charClass={charClass} /> )\n        return(\n            <div>\n                <div className=\"box\" style={{width: 180}}>\n                        <form>\n                        <button onClick={this.handleLogout}>Logout</button>\n                            <label>Name:</label>\n                            <input type='text' placeholder=\"name\" value={this.state.characterName} onChange={this.nameChange}/>\n                            <label>Alignment:</label>\n                            <select onChange={this.alignmentChoice}>\n                                <option value=\"True Neutral\">True Neutral</option>\n                                <option value=\"Chaotic Neutral\">Chaotic Neutral</option>\n                                <option value=\"Lawful Neutral\">Lawful Neutral</option>\n                                <option value=\"True Evil\">True Evil</option>\n                                <option value=\"True Good\">True Good</option>\n                                <option value=\"Lawful Good\">Lawful Good</option>\n                                <option value=\"Lawful Evil\">Lawful Evil</option>\n                                <option value=\"Chaotic Good\">Chaotic Good</option>\n                                <option value=\"Chaotic Evil\">Chaotic Evil</option>\n                            </select>\n                        </form>\n                </div>\n                <h1>Choose Your Class:</h1>\n                <h2>Currently Selected: {this.props.newCharClass ? <div>{this.props.newCharClass.name} <button onClick={this.handleNext}>Confirm</button></div> : null}</h2>\n                <select onChange={this.handleChange}>\n                    <option value=\"barbarian\">Barbarian</option>\n                    <option value=\"bard\">Bard</option>\n                    <option value=\"cleric\">Cleric</option>\n                    <option value=\"druid\">Druid</option>\n                    <option value=\"fighter\">Fighter</option>\n                    <option value=\"monk\">Monk</option>\n                    <option value=\"paladin\">Paladin</option>\n                    <option value=\"ranger\">Ranger</option>\n                    <option value=\"rogue\">Rogue</option>\n                    <option value=\"sorcerer\">Sorcerer</option>\n                    <option value=\"warlock\">Warlock</option>\n                    <option value=\"wizard\">Wizard</option>\n                </select>\n                {this.state.currentClass === 'barbarian' ? classComps[0] : null}\n                {this.state.currentClass === 'bard' ? classComps[1] : null}\n                {this.state.currentClass === 'cleric' ? classComps[2] : null}\n                {this.state.currentClass === 'druid' ? classComps[3] : null}\n                {this.state.currentClass === 'fighter' ? classComps[4] : null}\n                {this.state.currentClass === 'monk' ? classComps[5] : null}\n                {this.state.currentClass === 'paladin' ? classComps[6] : null}\n                {this.state.currentClass === 'ranger' ? classComps[7] : null}\n                {this.state.currentClass === 'rogue' ? classComps[8] : null}\n                {this.state.currentClass === 'sorcerer' ? classComps[9] : null}\n                {this.state.currentClass === 'warlock' ? classComps[10] : null}\n                {this.state.currentClass === 'wizard' ? classComps[11] : null}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (store) => {\n    return {\n      currentUser: store.currentUser,\n      newCharClass: store.newCharClass,\n      character_id: store.character_id\n    }\n}\n  \nconst mapDispatchToProps = (dispatch) => {\n    return {\n      LogIn: (loggedInUser) => {\n        dispatch({ type: 'LOGIN_CURRENT_USER', user: loggedInUser })\n      },\n      AddClass: (charClass) => {\n          dispatch({ type: 'ADD_CLASS', attribute: charClass })\n      },\n      AddCharID: (character_id) => {\n          dispatch({ type: 'ADD_CHARACTER_ID', character_id: character_id})\n      }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewClass);"]},"metadata":{},"sourceType":"module"}