{"ast":null,"code":"var _jsxFileName = \"/Users/dan/Desktop/SideQuest/sidequest_frontend/src/NewRace.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport RaceInfo from './RaceInfo';\n\nclass NewCharacter extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      allRaces: [],\n      currentRace: 'Dwarf'\n    };\n\n    this.handleChange = e => {\n      const newRace = e.target.value;\n      this.setState({\n        currentRace: newRace\n      });\n    };\n\n    this.saveRace = charRace => {\n      this.props.AddRace(charRace);\n      console.log(this.props);\n    };\n\n    this.handleNext = () => {\n      fetch('http://localhost:3000/character_races', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          character_id: this.props.character_id,\n          name: this.props.newCharRace.name,\n          desc: this.props.newCharRace.desc,\n          age: this.props.newCharRace.age,\n          alignment: this.props.newCharRace.alignment,\n          size: this.props.newCharRace.size,\n          speed: this.props.newCharRace.speed.walk,\n          speed_desc: this.props.newCharRace.speed_desc,\n          languages: this.props.newCharRace.languages,\n          vision: this.props.newCharRace.vision,\n          traits: this.props.newCharRace.traits\n        })\n      }).then(r => r.json()).then(this.props.history.push('/StatRoll'));\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/profile', {\n      headers: {\n        'Authorization': \"Bearer \".concat(localStorage.token)\n      }\n    }).then(res => res.json()).then(user => this.props.LogIn(user));\n    fetch('https://api-beta.open5e.com/races/').then(r => r.json()).then(data => this.setState({\n      allRaces: data.results\n    }));\n  }\n\n  render() {\n    // console.log(this.props)\n    // console.log(this.state)\n    const raceComps = this.state.allRaces.map(charRace => React.createElement(RaceInfo, {\n      key: charRace.id,\n      saveRace: this.saveRace,\n      charRace: charRace,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Choose Your Race:\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Currently Selected: \", this.props.newCharRace ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.props.newCharRace.name, \" \", React.createElement(\"button\", {\n      onClick: this.handleNext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Confirm\")) : null), React.createElement(\"select\", {\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"Dwarf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Dwarf\"), React.createElement(\"option\", {\n      value: \"Elf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Elf\"), React.createElement(\"option\", {\n      value: \"Halfling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Halfling\"), React.createElement(\"option\", {\n      value: \"Human\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Human\"), React.createElement(\"option\", {\n      value: \"Dragonborn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Dragonborn\"), React.createElement(\"option\", {\n      value: \"Gnome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Gnome\"), React.createElement(\"option\", {\n      value: \"Half-Elf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Half-Elf\"), React.createElement(\"option\", {\n      value: \"Half-Orc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Half-Orc\"), React.createElement(\"option\", {\n      value: \"Tiefling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Tiefling\")), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Chosen Class: \", this.props.newCharClass.name), this.state.currentRace === 'Dwarf' ? raceComps[0] : null, this.state.currentRace === 'Elf' ? raceComps[1] : null, this.state.currentRace === 'Halfling' ? raceComps[2] : null, this.state.currentRace === 'Human' ? raceComps[3] : null, this.state.currentRace === 'Dragonborn' ? raceComps[4] : null, this.state.currentRace === 'Gnome' ? raceComps[5] : null, this.state.currentRace === 'Half-Elf' ? raceComps[6] : null, this.state.currentRace === 'Half-Orc' ? raceComps[7] : null, this.state.currentRace === 'Tiefling' ? raceComps[8] : null);\n  }\n\n}\n\nconst mapStateToProps = store => {\n  return {\n    currentUser: store.currentUser,\n    newCharClass: store.newCharClass,\n    newCharRace: store.newCharRace,\n    character_id: store.character_id\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    LogIn: loggedInUser => {\n      dispatch({\n        type: 'LOGIN_CURRENT_USER',\n        user: loggedInUser\n      });\n    },\n    AddRace: charRace => {\n      dispatch({\n        type: 'ADD_Race',\n        attribute: charRace\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewCharacter);","map":{"version":3,"sources":["/Users/dan/Desktop/SideQuest/sidequest_frontend/src/NewRace.js"],"names":["React","connect","RaceInfo","NewCharacter","Component","state","allRaces","currentRace","handleChange","e","newRace","target","value","setState","saveRace","charRace","props","AddRace","console","log","handleNext","fetch","method","headers","body","JSON","stringify","character_id","name","newCharRace","desc","age","alignment","size","speed","walk","speed_desc","languages","vision","traits","then","r","json","history","push","componentDidMount","localStorage","token","res","user","LogIn","data","results","render","raceComps","map","id","newCharClass","mapStateToProps","store","currentUser","mapDispatchToProps","dispatch","loggedInUser","type","attribute"],"mappings":"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","sourcesContent":["import React from  'react'\nimport { connect } from 'react-redux'\nimport RaceInfo from './RaceInfo'\n\n\nclass NewCharacter extends React.Component{\n    state = {\n        allRaces: [],\n        currentRace: 'Dwarf'\n    }\n\n    componentDidMount(){\n        fetch('http://localhost:3000/profile',{\n        headers: {\n          'Authorization': `Bearer ${localStorage.token}`\n        }\n        })\n        .then(res => res.json())\n        .then(user => this.props.LogIn(user)\n        )\n        fetch('https://api-beta.open5e.com/races/')\n        .then(r => r.json())\n        .then(data => this.setState({\n            allRaces: data.results\n        }))\n    }\n\n    handleChange = (e) =>{\n        const newRace = e.target.value\n        this.setState({\n            currentRace: newRace\n        })\n    }\n\n    saveRace = (charRace) => {\n        this.props.AddRace(charRace)\n        console.log(this.props)\n    }\n\n    handleNext = () => {\n        fetch('http://localhost:3000/character_races', {\n                method: 'POST',\n                headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n                },\n                body: JSON.stringify({\n                    character_id: this.props.character_id,\n                    name: this.props.newCharRace.name,\n                    desc: this.props.newCharRace.desc,\n                    age: this.props.newCharRace.age,\n                    alignment: this.props.newCharRace.alignment,\n                    size: this.props.newCharRace.size,\n                    speed: this.props.newCharRace.speed.walk,\n                    speed_desc: this.props.newCharRace.speed_desc,\n                    languages: this.props.newCharRace.languages,\n                    vision: this.props.newCharRace.vision,\n                    traits: this.props.newCharRace.traits\n                })\n            }).then(r => r.json()).then(this.props.history.push('/StatRoll'))\n    }\n\n\n\n    render(){\n        // console.log(this.props)\n        // console.log(this.state)\n        const raceComps = this.state.allRaces.map(charRace => <RaceInfo key={charRace.id} saveRace={this.saveRace} charRace={charRace} /> )\n        return(\n            <div>\n                <h1>Choose Your Race:</h1>\n                <h2>Currently Selected: {this.props.newCharRace ? <div>{this.props.newCharRace.name} <button onClick={this.handleNext}>Confirm</button></div> : null}</h2>\n                <select onChange={this.handleChange}>\n                    <option value=\"Dwarf\">Dwarf</option>\n                    <option value=\"Elf\">Elf</option>\n                    <option value=\"Halfling\">Halfling</option>\n                    <option value=\"Human\">Human</option>\n                    <option value=\"Dragonborn\">Dragonborn</option>\n                    <option value=\"Gnome\">Gnome</option>\n                    <option value=\"Half-Elf\">Half-Elf</option>\n                    <option value=\"Half-Orc\">Half-Orc</option>\n                    <option value=\"Tiefling\">Tiefling</option>\n                </select>\n                <h2>Chosen Class: {this.props.newCharClass.name}</h2>\n                {this.state.currentRace === 'Dwarf' ? raceComps[0] : null}\n                {this.state.currentRace === 'Elf' ? raceComps[1] : null}\n                {this.state.currentRace === 'Halfling' ? raceComps[2] : null}\n                {this.state.currentRace === 'Human' ? raceComps[3] : null}\n                {this.state.currentRace === 'Dragonborn' ? raceComps[4] : null}\n                {this.state.currentRace === 'Gnome' ? raceComps[5] : null}\n                {this.state.currentRace === 'Half-Elf' ? raceComps[6] : null}\n                {this.state.currentRace === 'Half-Orc' ? raceComps[7] : null}\n                {this.state.currentRace === 'Tiefling' ? raceComps[8] : null}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (store) => {\n    return {\n      currentUser: store.currentUser,\n      newCharClass: store.newCharClass,\n      newCharRace: store.newCharRace,\n      character_id: store.character_id\n    }\n}\n  \nconst mapDispatchToProps = (dispatch) => {\n    return {\n      LogIn: (loggedInUser) => {\n        dispatch({ type: 'LOGIN_CURRENT_USER', user: loggedInUser })\n      },\n      AddRace: (charRace) => {\n          dispatch({ type: 'ADD_Race', attribute: charRace })\n      }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewCharacter);"]},"metadata":{},"sourceType":"module"}